/* IBM Plex for clean enterprise typography - inspired by Carbon Design System */
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* 
     * Design System: Inspired by IBM Carbon
     * Clean, accessible, enterprise-grade tokens
     */
    
    /* === Brand Colors (Slide Deck) === */
    /* Primary - Iconoclastic Teal */
    --slide-primary: 180 38% 30%;       /* #2F6B6B - Deep Teal */
    --slide-primary-light: 180 32% 42%; /* #4D8A8A */
    
    /* Accent - Warm Teal for highlights */
    --slide-accent: 174 42% 43%;        /* #3FA0A0 - Teal Accent */
    --slide-accent-light: 174 42% 60%;  /* Lighter accent */
    --slide-accent-muted: 174 30% 93%;  /* Very light teal bg */
    
    /* Semantic */
    --slide-success: 145 63% 42%;       /* #27AE60 - Green */
    --slide-warning: 36 100% 50%;       /* #F39C12 - Amber */
    --slide-error: 4 90% 58%;           /* #E74C3C - Red */
    
    /* Neutrals - Gray scale for text and backgrounds */
    --slide-gray-100: 220 14% 96%;      /* #F4F5F7 */
    --slide-gray-200: 220 13% 91%;      /* #E5E7EB */
    --slide-gray-300: 216 12% 84%;      /* #D1D5DB */
    --slide-gray-400: 218 11% 55%;      /* #7E8694 - darkened for WCAG AA contrast */
    --slide-gray-500: 220 9% 46%;       /* #6B7280 */
    --slide-gray-600: 215 14% 34%;      /* #4B5563 */
    --slide-gray-700: 217 19% 27%;      /* #374151 */
    --slide-gray-800: 215 28% 17%;      /* #1F2937 */
    --slide-gray-900: 221 39% 11%;      /* #111827 */
    
    /* === Legacy MS Tokens (for backwards compatibility) === */
    --ms-blue: 207 90% 54%;
    --ms-navy: 215 100% 20%;
    --ms-navy-80: 215 40% 40%;
    --ms-blue-80: 207 70% 60%;
    --ms-blue-40: 207 60% 80%;
    --ms-blue-20: 207 50% 92%;
    --ms-jade: 145 63% 42%;
    --ms-ocean: 185 85% 26%;
    
    /* === App UI Tokens === */
    --background: 0 0% 100%;
    --foreground: 221 39% 11%;
    --card: 0 0% 100%;
    --card-foreground: 221 39% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 221 39% 11%;
    --primary: 207 90% 54%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220 14% 96%;
    --secondary-foreground: 221 39% 11%;
    --muted: 220 14% 96%;
    --muted-foreground: 220 9% 46%;
    --accent: 207 50% 92%;
    --accent-foreground: 215 100% 20%;
    --destructive: 4 90% 58%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 207 90% 54%;
    --radius: 0.375rem;
    
    /* Sidebar */
    --sidebar-background: 215 100% 20%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 207 90% 54%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 215 60% 30%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 215 50% 25%;
    --sidebar-ring: 207 90% 54%;
    
    /* Canvas */
    --canvas-bg: 220 14% 96%;
    --slide-bg: 0 0% 100%;
    --grid-line: 220 13% 91%;
    --comment-pin: 36 100% 50%;
    --comment-pin-resolved: 145 63% 42%;
  }

  .dark {
    --background: 221 39% 11%;
    --foreground: 220 14% 96%;
    --card: 215 28% 17%;
    --card-foreground: 220 14% 96%;
    --popover: 215 28% 17%;
    --popover-foreground: 220 14% 96%;
    --primary: 207 90% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 217 19% 27%;
    --secondary-foreground: 220 14% 96%;
    --muted: 217 19% 27%;
    --muted-foreground: 218 11% 65%;
    --accent: 215 60% 30%;
    --accent-foreground: 220 14% 96%;
    --destructive: 4 70% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 217 19% 27%;
    --input: 217 19% 27%;
    --ring: 207 90% 60%;
    
    --sidebar-background: 221 39% 8%;
    --sidebar-foreground: 220 14% 96%;
    --sidebar-primary: 207 90% 60%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 217 19% 22%;
    --sidebar-accent-foreground: 220 14% 96%;
    --sidebar-border: 217 19% 18%;
    --sidebar-ring: 207 90% 60%;
    
    --canvas-bg: 221 39% 8%;
    --slide-bg: 215 28% 17%;
    --grid-line: 217 19% 27%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

/* === Typography utilities (legacy - Tailwind fontSize now handles this) === */
@layer components {
  /* Metric - Large numbers with tabular figures */
  .type-metric {
    @apply text-5xl font-semibold tabular-nums;
  }
  
  /* Code/Mono */
  .type-mono {
    font-family: 'IBM Plex Mono', 'JetBrains Mono', monospace;
  }
}

/* === Slide-specific utilities === */
@layer components {
  /* Card styles */
  .slide-card {
    @apply p-6 rounded-lg bg-white border border-slide-gray-200;
  }
  
  .slide-card-elevated {
    @apply slide-card shadow-sm;
  }
  
  .slide-card-accent {
    @apply slide-card border-l-4 border-l-slide-accent;
  }
  
  /* Metric card */
  .slide-metric-card {
    @apply p-6 rounded-lg;
    background: hsl(var(--slide-accent-muted));
  }
  
  /* Badge */
  .slide-badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium;
    background: hsl(var(--slide-accent-muted));
    color: hsl(var(--slide-primary));
  }
  
  /* Divider */
  .slide-divider {
    @apply w-16 h-1 rounded-full;
    background: hsl(var(--slide-accent));
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-muted-foreground/20 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-muted-foreground/40;
}

/* Slide canvas styles */
.slide-canvas {
  aspect-ratio: 16 / 9;
  background: hsl(var(--slide-bg));
}

/* === Slide Font Scaling (1.25x scale, 20px floor) ===
   Applied only within slide content, not app UI */
.slide-content {
  /* Scale up all text proportionally for 1920x1080 projection */
}

.slide-content .text-xs { font-size: 20px !important; line-height: 1.5 !important; }
.slide-content .text-sm { font-size: 20px !important; line-height: 1.5 !important; }
.slide-content .text-base { font-size: 20px !important; line-height: 1.6 !important; }
.slide-content .text-lg { font-size: 22px !important; line-height: 1.6 !important; }
.slide-content .text-xl { font-size: 24px !important; line-height: 1.5 !important; }
.slide-content .text-2xl { font-size: 28px !important; line-height: 1.4 !important; }
.slide-content .text-3xl { font-size: 36px !important; line-height: 1.35 !important; }
.slide-content .text-4xl { font-size: 44px !important; line-height: 1.25 !important; }
.slide-content .text-5xl { font-size: 56px !important; line-height: 1.2 !important; }
.slide-content .text-6xl { font-size: 72px !important; line-height: 1.1 !important; }
.slide-content .text-7xl { font-size: 88px !important; line-height: 1.05 !important; }
.slide-content .text-8xl { font-size: 112px !important; line-height: 1 !important; }
.slide-content .text-9xl { font-size: 144px !important; line-height: 1 !important; }

/* Grid overlay */
.grid-overlay {
  background-image: 
    linear-gradient(to right, hsl(var(--grid-line)) 1px, transparent 1px),
    linear-gradient(to bottom, hsl(var(--grid-line)) 1px, transparent 1px);
  background-size: calc(100% / 6) calc(100% / 6);
}

/* Slide thumbnail hover effect */
.slide-thumbnail {
  @apply transition-all duration-200;
}

.slide-thumbnail:hover {
  @apply ring-2 ring-primary/50;
}

.slide-thumbnail.active {
  @apply ring-2 ring-primary;
}

/* Comment pin styles */
.comment-pin {
  @apply w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold cursor-pointer transition-transform;
  background: hsl(var(--comment-pin));
  color: white;
}

.comment-pin:hover {
  @apply scale-110;
}

.comment-pin.resolved {
  background: hsl(var(--comment-pin-resolved));
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { 
    opacity: 0;
    transform: translateY(20px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from { 
    opacity: 0;
    transform: scale(0.95);
  }
  to { 
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes collapseIn {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-20px) scale(0.8);
  }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-slide-up {
  animation: slideUp 0.4s ease-out;
}

.animate-scale-in {
  animation: scaleIn 0.2s ease-out;
}

.animate-collapse {
  animation: collapseIn 0.2s ease-out forwards;
}
